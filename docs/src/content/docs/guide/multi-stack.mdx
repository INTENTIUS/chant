---
title: Multi-Stack Projects
description: Splitting resources across multiple stacks
---

import { Code } from '@astrojs/starlight/components';
import outputsSrc from '../../../../../lexicons/aws/examples/nested-stacks/src/network/outputs.ts?raw';
import appSrc from '../../../../../lexicons/aws/examples/nested-stacks/src/app.ts?raw';

chant supports splitting resources across multiple stacks with automatic cross-stack reference resolution.

When resources in different stacks reference each other, chant generates cross-stack outputs and imports using the appropriate provider-specific mechanism.

## Child projects (nested stacks)

chant supports **child projects** — subdirectories with their own barrel file (`_.ts`) that build to separate, independently-valid templates. The parent references a child project via a lexicon-specific function, and cross-stack outputs are declared explicitly with `stackOutput()`.

For example, the AWS lexicon's `nestedStack()` function references a child project directory and produces separate CloudFormation child templates:

```
src/
  _.ts              # parent barrel
  app.ts            # parent resources
  network/          # ← child project
    _.ts            # child barrel
    vpc.ts          # child resources
    outputs.ts      # stackOutput() declarations
```

<Code code={outputsSrc} lang="typescript" title="src/network/outputs.ts" />

<Code code={appSrc} lang="typescript" title="src/app.ts" />

The child can be built independently (`chant build src/network/`), and the parent build produces multiple template files. See your lexicon's documentation for details — for AWS, see the [Nested Stacks](/chant/lexicons/aws/nested-stacks) guide.

For details on how multi-stack serialization works, see [Multi-Stack Output](/chant/serialization/multi-stack/).
