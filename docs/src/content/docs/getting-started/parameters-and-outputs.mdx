---
title: Parameters & Outputs
description: Declare CloudFormation parameters and stack outputs in chant
---

import { Code } from '@astrojs/starlight/components';
import environmentSrc from '../../../../../lexicons/aws/examples/getting-started/src/environment.ts?raw';

Parameters let you customize a stack at deploy time. Outputs expose values from the stack for use by other stacks or scripts.

## Full example

<Code code={environmentSrc} lang="typescript" title="src/environment.ts" />

## Parameters

Export a `Parameter` to add it to the template's `Parameters` section:

```typescript
import { Parameter } from "@intentius/chant-lexicon-aws";

export const environment = new Parameter("String", {
  description: "Deployment environment",
  defaultValue: "dev",
});
```

The first argument is the CloudFormation parameter type (`"String"`, `"Number"`, `"List<Number>"`, `"CommaDelimitedList"`, or an AWS SSM type). The second argument supports all CloudFormation parameter properties:

- `description` — human-readable description
- `defaultValue` — value used when none is provided at deploy time
- `allowedValues` — constrain to a set of valid values
- `allowedPattern` — regex constraint for string parameters
- `minLength` / `maxLength` — string length bounds
- `minValue` / `maxValue` — numeric bounds

The exported variable name becomes the logical parameter name (PascalCased). `environment` becomes `Environment` in the template.

### Referencing parameters

Use `Ref` to reference a parameter's value inside resource properties:

```typescript
import { Ref, Sub } from "@intentius/chant-lexicon-aws";

export const bucket = new Bucket({
  bucketName: Sub`${Ref("Environment")}-data`,
});
```

Or reference it through the barrel when the parameter is in another file:

```typescript
import * as _ from "./_";

export const bucket = new _.Bucket({
  bucketName: _.Sub`${_.Ref(_.$.environment)}-data`,
});
```

## Outputs

Use `output()` to create explicit stack outputs. An output wraps an `AttrRef` (a resource attribute reference) with a name:

```typescript
import { output } from "@intentius/chant";

export const dataBucketArn = output($.dataBucket.arn, "DataBucketArn");
```

This produces:

```json
"Outputs": {
  "DataBucketArn": {
    "Value": { "Fn::GetAtt": ["DataBucket", "Arn"] }
  }
}
```

### Auto-detected outputs

Cross-resource `AttrRef` usage is also auto-detected and promoted to outputs when needed — for example, when a nested stack parent references a child stack's value. You only need explicit `output()` calls for values you want exposed in the template's `Outputs` section.

## Next steps

- [AWS CloudFormation Concepts](/chant/lexicons/aws/cloudformation/) — pseudo-parameters, intrinsics, conditions, and more
- [Nested Stacks](/chant/lexicons/aws/nested-stacks/) — cross-stack references with `stackOutput()`
